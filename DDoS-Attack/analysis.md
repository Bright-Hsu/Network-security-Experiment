# TCP analysis

![image-20220303220128873](https://gitee.com/bright_xu/blog-image/raw/master/img/image-20220303220128873.png)

## 各参数分析如下：

**源端口：**751，目标端口：80，用来标识同一台计算机的不同的应用进程，使客户端和服务器端能进行进程间的逻辑通信。在收到服务请求时，操作系统动态地为客户端的应用程序分配端口号。

　  **顺序号：**2523163619，用来标识从TCP源端向TCP目标端发送的数据字节流，它表示在这个报文段中的第一个数据字节，确保了TCP传输的有序性。

**确认号：**1876234378，只有ACK标志为1时，确认号字段才有效，因此此时是无效的。它包含目标端所期望收到源端的下一个数据字节。

**头部长度：**24bytes，表明 TCP 报文段头部长度为 24bytes，同时告诉接收端的应用程序，数据从何处开始。

**保留字段：**为 TCP 将来的发展预留空间，目前必须全部为 0。

　  **标志位字段**（U、A、P、R、S、F）：占6比特。当 SYN=1，ACK=0 时，表示这是一个请求建立连接的报文段。各比特的含义如下：

　◆URG：紧急指针（urgent pointer）有效。

　◆ACK：为1时，确认序号有效。

　◆PSH：为1时，接收方应该尽快将这个报文段交给应用层。

　◆RST：为1时，重建连接。

　◆SYN：为1时，同步程序，发起一个连接。

　◆FIN：为1时，发送端完成任务，释放一个连接。

　  **窗口大小字段：**9732字节, 告知发送端当前接收端的接收窗口还有多少剩余空间，以此控制发送端发送数据的速率，起到流量控制的作用。单位为字节数，这个值是本机期望一次接收的字节数。

　  **TCP校验和字段：**0xdef2。对整个TCP报文段，即TCP头部和TCP数据进行校验和计算，并由目标端进行验证。

　  **紧急指针字段：**23943,但此处无效。只有当 URG 标志置 1 时紧急指针才有效。紧急指针是一个正的偏移量，和顺序号字段中的值相加表示紧急数据最后一个字节的序号。 TCP 的紧急方式是发送端向另一端发送紧急数据的一种方式。

　  **选项字段：**最常见的可选字段是最长报文大小，又称为MSS（Maximum Segment Size），每个连接方通常都在通信的第一个报文段（为建立连接而设置SYN标志为1的那个段）中指明这个选项，它表示本端所能接受的最大报文段的长度。选项长度不一定是32位的整数倍，所以要加填充位，即在这个字段中加入额外的零，以保证TCP头是32的整数倍。